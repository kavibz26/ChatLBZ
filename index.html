<!DOCTYPE html>
<html lang="he" dir="rtl">
<body>
    <h2>בדיקת ChatLBZ</h2>
    <input type="text" id="userInput" placeholder="כתוב משהו...">
    <button onclick="check()">שלח בדיקה</button>
    <div id="log" style="white-space: pre-wrap; margin-top: 20px; color: blue;"></div>

    <script>
        async function check() {
            const log = document.getElementById('log');
            const input = document.getElementById('userInput').value;
            // תדביק כאן את המפתח החדש שיצרת הרגע
            const KEY = "AIzaSyBuqoCiih-Um2N7Xgklz0lq8-8l1cybJio"; 
            
            log.innerText = "שולח בקשה...";

            try {
                // הכתובת הזו היא הכי יציבה שיש
                const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${KEY}`;
                
                const response = await fetch(url, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({ contents: [{ parts: [{ text: input }] }] })
                });

                const data = await response.json();
                
                if (data.error) {
                    log.style.color = "red";
                    log.innerText = "שגיאה מגוגל: " + data.error.message;
                } else {
                    log.style.color = "green";
                    log.innerText = "עובד!!! הנה התשובה:\n" + data.candidates[0].content.parts[0].text;
                }
            } catch (e) {
                log.innerText = "שגיאה כללית: " + e.message;
            }
        }
    </script>
</body>
</html>
